{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\n//Vamos a usar localstorage para tener persistencia de datos, sin usar base de datos relacional ni no relacionales\n//let stringifiedArray = localStorage.setItem('Version_1', JSON.stringify(array)); //-> para inicializar la version_1 del Localstorage\n//tambien vamos a crear un customhook para manejar todo lo relacionado a localstorage:\nfunction useLocalStorage(initialValue) {\n  _s();\n  let localstoragedArray = localStorage.getItem('Version_1');\n  let parsedArray;\n  if (!localstoragedArray) {\n    localStorage.setItem('Version_1', JSON.stringify(initialValue)); //si Version_1 (primera vez que se abre la app) = Vacio -> array vacio, pq si no hay que mostrar, la app crashea!\n    parsedArray = [];\n  } else {\n    parsedArray = JSON.parse(localstoragedArray);\n  }\n  const [item, setItem] = useState(parsedArray); //asignamos el valor vacio o inicial al estado del customhook\n  //necesitamos la funcion que actualice el estado de los elementos y a la vez el localstorage tal que exista persistencia de datos\n  //al refrescar la pagina:\n  const saveStateTodos = newTodos => {\n    localStorage.setItem('Version_1', JSON.stringify(newTodos)); //reescribimos el array de todos actualizado\n    setItem(newTodos);\n  };\n  return [item, saveStateTodos]; //saveStateTodos es el estados de los array persistente de todos, item es la lista de todos parseada\n} //con esta desestructuracion de arrays como devolucion del customhook, ya podemos usar saveStateTodos()\n_s(useLocalStorage, \"x+RosdqzKQD/rSYdzwXA/1gSOGM=\");\nexport { useLocalStorage };","map":{"version":3,"names":["useState","useLocalStorage","initialValue","_s","localstoragedArray","localStorage","getItem","parsedArray","setItem","JSON","stringify","parse","item","saveStateTodos","newTodos"],"sources":["/home/federico/Proyectos/CursosPlatzi/CursoReact/curso-react-intro/src/Hooks/useLocalStorage.js"],"sourcesContent":["import { useState } from \"react\";\n//Vamos a usar localstorage para tener persistencia de datos, sin usar base de datos relacional ni no relacionales\n//let stringifiedArray = localStorage.setItem('Version_1', JSON.stringify(array)); //-> para inicializar la version_1 del Localstorage\n//tambien vamos a crear un customhook para manejar todo lo relacionado a localstorage:\nfunction useLocalStorage(initialValue){\n    let localstoragedArray = localStorage.getItem('Version_1');\n    let parsedArray;\n    \n    if (!localstoragedArray) {\n      localStorage.setItem('Version_1',JSON.stringify(initialValue));  //si Version_1 (primera vez que se abre la app) = Vacio -> array vacio, pq si no hay que mostrar, la app crashea!\n      parsedArray = [];\n    } else {\n      parsedArray = JSON.parse(localstoragedArray);\n    }\n    const [item, setItem] = useState(parsedArray); //asignamos el valor vacio o inicial al estado del customhook\n    //necesitamos la funcion que actualice el estado de los elementos y a la vez el localstorage tal que exista persistencia de datos\n     //al refrescar la pagina:\n    const saveStateTodos = (newTodos) => {\n      localStorage.setItem('Version_1', JSON.stringify(newTodos));  //reescribimos el array de todos actualizado\n      setItem(newTodos);\n    }\n    return [item, saveStateTodos];  //saveStateTodos es el estados de los array persistente de todos, item es la lista de todos parseada\n  }                                 //con esta desestructuracion de arrays como devolucion del customhook, ya podemos usar saveStateTodos()\n  \nexport {useLocalStorage};"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC;AACA;AACA;AACA,SAASC,eAAeA,CAACC,YAAY,EAAC;EAAAC,EAAA;EAClC,IAAIC,kBAAkB,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC1D,IAAIC,WAAW;EAEf,IAAI,CAACH,kBAAkB,EAAE;IACvBC,YAAY,CAACG,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACR,YAAY,CAAC,CAAC,CAAC,CAAE;IACjEK,WAAW,GAAG,EAAE;EAClB,CAAC,MAAM;IACLA,WAAW,GAAGE,IAAI,CAACE,KAAK,CAACP,kBAAkB,CAAC;EAC9C;EACA,MAAM,CAACQ,IAAI,EAAEJ,OAAO,CAAC,GAAGR,QAAQ,CAACO,WAAW,CAAC,CAAC,CAAC;EAC/C;EACC;EACD,MAAMM,cAAc,GAAIC,QAAQ,IAAK;IACnCT,YAAY,CAACG,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAE;IAC9DN,OAAO,CAACM,QAAQ,CAAC;EACnB,CAAC;EACD,OAAO,CAACF,IAAI,EAAEC,cAAc,CAAC,CAAC,CAAE;AAClC,CAAC,CAAiC;AAAAV,EAAA,CAlB3BF,eAAe;AAoBxB,SAAQA,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}