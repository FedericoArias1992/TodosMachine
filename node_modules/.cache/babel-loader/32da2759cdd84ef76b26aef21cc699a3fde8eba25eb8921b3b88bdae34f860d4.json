{"ast":null,"code":"import _slicedToArray from\"/home/federico/Proyectos/CursosPlatzi/CursoReact/curso-react-intro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";//Vamos a usar localstorage para tener persistencia de datos, sin usar base de datos relacional ni no relacionales\n//let stringifiedArray = localStorage.setItem('Version_1', JSON.stringify(array)); //-> para inicializar la version_1 del Localstorage\n//tambien vamos a crear un customhook para manejar todo lo relacionado a localstorage:\nfunction useLocalStorage(initialValue){var localstoragedArray=localStorage.getItem('Version_1');var parsedArray;if(!localstoragedArray){localStorage.setItem('Version_1',JSON.stringify(initialValue));//si Version_1 (primera vez que se abre la app) = Vacio -> array vacio, pq si no hay que mostrar, la app crashea!\nparsedArray=[];}else{parsedArray=JSON.parse(localstoragedArray);}var _useState=useState(parsedArray),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];//asignamos el valor vacio o inicial al estado del customhook\n//necesitamos la funcion que actualice el estado de los elementos y a la vez el localstorage tal que exista persistencia de datos\n//al refrescar la pagina:\nvar saveStateTodos=function saveStateTodos(newTodos){localStorage.setItem('Version_1',JSON.stringify(newTodos));//reescribimos el array de todos actualizado\nsetItem(newTodos);};return[item,saveStateTodos];//saveStateTodos es el estados de los array persistente de todos, item es la lista de todos parseada\n}//con esta desestructuracion de arrays como devolucion del customhook, ya podemos usar saveStateTodos()\nexport{useLocalStorage};","map":{"version":3,"names":["useState","useLocalStorage","initialValue","localstoragedArray","localStorage","getItem","parsedArray","setItem","JSON","stringify","parse","_useState","_useState2","_slicedToArray","item","saveStateTodos","newTodos"],"sources":["/home/federico/Proyectos/CursosPlatzi/CursoReact/curso-react-intro/src/Hooks/useLocalStorage.js"],"sourcesContent":["import { useState } from \"react\";\n//Vamos a usar localstorage para tener persistencia de datos, sin usar base de datos relacional ni no relacionales\n//let stringifiedArray = localStorage.setItem('Version_1', JSON.stringify(array)); //-> para inicializar la version_1 del Localstorage\n//tambien vamos a crear un customhook para manejar todo lo relacionado a localstorage:\nfunction useLocalStorage(initialValue){\n    let localstoragedArray = localStorage.getItem('Version_1');\n    let parsedArray;\n    \n    if (!localstoragedArray) {\n      localStorage.setItem('Version_1',JSON.stringify(initialValue));  //si Version_1 (primera vez que se abre la app) = Vacio -> array vacio, pq si no hay que mostrar, la app crashea!\n      parsedArray = [];\n    } else {\n      parsedArray = JSON.parse(localstoragedArray);\n    }\n    const [item, setItem] = useState(parsedArray); //asignamos el valor vacio o inicial al estado del customhook\n    //necesitamos la funcion que actualice el estado de los elementos y a la vez el localstorage tal que exista persistencia de datos\n     //al refrescar la pagina:\n    const saveStateTodos = (newTodos) => {\n      localStorage.setItem('Version_1', JSON.stringify(newTodos));  //reescribimos el array de todos actualizado\n      setItem(newTodos);\n    }\n    return [item, saveStateTodos];  //saveStateTodos es el estados de los array persistente de todos, item es la lista de todos parseada\n  }                                 //con esta desestructuracion de arrays como devolucion del customhook, ya podemos usar saveStateTodos()\n  \nexport {useLocalStorage};"],"mappings":"wJAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC;AACA;AACA;AACA,QAAS,CAAAC,eAAeA,CAACC,YAAY,CAAC,CAClC,GAAI,CAAAC,kBAAkB,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC1D,GAAI,CAAAC,WAAW,CAEf,GAAI,CAACH,kBAAkB,CAAE,CACvBC,YAAY,CAACG,OAAO,CAAC,WAAW,CAACC,IAAI,CAACC,SAAS,CAACP,YAAY,CAAC,CAAC,CAAG;AACjEI,WAAW,CAAG,EAAE,CAClB,CAAC,IAAM,CACLA,WAAW,CAAGE,IAAI,CAACE,KAAK,CAACP,kBAAkB,CAAC,CAC9C,CACA,IAAAQ,SAAA,CAAwBX,QAAQ,CAACM,WAAW,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,IAAI,CAAAF,UAAA,IAAEL,OAAO,CAAAK,UAAA,IAA2B;AAC/C;AACC;AACD,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,QAAQ,CAAK,CACnCZ,YAAY,CAACG,OAAO,CAAC,WAAW,CAAEC,IAAI,CAACC,SAAS,CAACO,QAAQ,CAAC,CAAC,CAAG;AAC9DT,OAAO,CAACS,QAAQ,CAAC,CACnB,CAAC,CACD,MAAO,CAACF,IAAI,CAAEC,cAAc,CAAC,CAAG;AAClC,CAAkC;AAEpC,OAAQd,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}